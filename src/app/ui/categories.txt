'use client';

import { BookOpen, Dumbbell, Footprints } from 'lucide-react';

type CategoriesProps = {
    fieldStatus: Record<string, number[]>;
    selectedCategory: string; // The currently selected category
    onCategoryClick: (category: string) => void; // Callback for category click
};

const Categories: React.FC<CategoriesProps> = ({ fieldStatus, selectedCategory, onCategoryClick }) => {
    const habits = [
        { title: 'read', icon: BookOpen },
        { title: 'workout', icon: Dumbbell },
        { title: 'walk', icon: Footprints },
    ];

    return (
        <div className="flex justify-center">
            <div className="grid grid-cols-4">
                {habits.map((habit) => (
                    <div
                        key={habit.title}
                        onClick={() => onCategoryClick(habit.title)}
                        className={`border border-default-color cursor-pointer ${
                            habit.title === selectedCategory ? 'bg-selected-category' : ''
                        }`}
                        style={{ width: '134px', height: '134px' }}
                    >
                        <div className="flex gap-2 relative left-2 top-2">
                            <habit.icon className="w-5 h-5 text-txt-color" />
                            <span className="text-txt-color text-sm">{habit.title}</span>
                        </div>
                        <div className="grid grid-cols-7 gap-2 absolute right-6 top-9">
                            {fieldStatus[habit.title].map((status, i) => (
                                <div
                                    key={i}
                                    className={`w-3.5 h-3.5 rounded-full ${
                                        status === 1
                                            ? 'bg-green-background'
                                            : status === 2
                                            ? 'bg-red-background'
                                            : 'bg-dot-color'
                                    }`}
                                ></div>
                            ))}
                        </div>
                    </div>
                ))}
            </div>
        </div>
    );
};

export default Categories;
